{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Projects\\\\birdtracker\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Projects\\\\birdtracker\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:\\\\Projects\\\\birdtracker\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import{GoogleMap,withScriptjs,withGoogleMap}from'react-google-maps';import mapStyles from'../assets/mapStyles';import FilterContainer from'./FilterContainer';var Map=function Map(_ref){var passQuery=_ref.passQuery;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),birds=_useState2[0],setBirds=_useState2[1];var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var req;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/api/birds');case 3:req=_context.sent;setBirds(req.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(_context.t0.message);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchData();// console.log('parent\\'s component')        \n},[]);return/*#__PURE__*/React.createElement(GoogleMap,{defaultZoom:12,defaultCenter:{lat:13.846246,lng:100.568640},defaultOptions:{styles:mapStyles,mapTypeControl:false,streetViewControl:false,fullscreenControl:false,scaleControl:true}},/*#__PURE__*/React.createElement(FilterContainer,{birds:birds,query:passQuery}));};var WrappedMap=withScriptjs(withGoogleMap(Map));var MapContainer=function MapContainer(_ref3){var passQuery=_ref3.passQuery;return/*#__PURE__*/React.createElement(\"div\",{style:{width:\"100vw\",height:\"100vh\"}},/*#__PURE__*/React.createElement(WrappedMap,{googleMapURL:\"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyAD0zS55CxSt0oXdu8O230XgPF2_ZmKT7A\",loadingElement:/*#__PURE__*/React.createElement(\"div\",{style:{height:\"100%\"}}),containerElement:/*#__PURE__*/React.createElement(\"div\",{style:{height:\"100%\"}}),mapElement:/*#__PURE__*/React.createElement(\"div\",{style:{height:\"100%\"}}),passQuery:passQuery}));};export default MapContainer;","map":{"version":3,"sources":["C:/Projects/birdtracker/frontend/src/components/MapContainer.js"],"names":["React","useState","useEffect","axios","GoogleMap","withScriptjs","withGoogleMap","mapStyles","FilterContainer","Map","passQuery","birds","setBirds","fetchData","get","req","data","console","error","message","lat","lng","styles","mapTypeControl","streetViewControl","fullscreenControl","scaleControl","WrappedMap","MapContainer","width","height"],"mappings":"0dAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA0C,OAA1C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CACQC,YADR,CAEQC,aAFR,KAGc,mBAHd,CAIA,MAAOC,CAAAA,SAAP,KAAsB,qBAAtB,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,MAAiB,IAAfC,CAAAA,SAAe,MAAfA,SAAe,eACCT,QAAQ,CAAC,EAAD,CADT,wCAClBU,KADkB,eACXC,QADW,eAGzB,GAAMC,CAAAA,SAAS,2FAAG,iLAEQV,CAAAA,KAAK,CAACW,GAAN,CAAU,YAAV,CAFR,QAEJC,GAFI,eAGVH,QAAQ,CAACG,GAAG,CAACC,IAAL,CAAR,CAHU,+EAKVC,OAAO,CAACC,KAAR,CAAc,YAAMC,OAApB,EALU,oEAAH,kBAATN,CAAAA,SAAS,2CAAf,CASAX,SAAS,CAAE,UAAM,CACbW,SAAS,GACT;AACH,CAHQ,CAGN,EAHM,CAAT,CAKA,mBACI,oBAAC,SAAD,EACI,WAAW,CAAE,EADjB,CAEI,aAAa,CAAE,CAACO,GAAG,CAAC,SAAL,CAAeC,GAAG,CAAC,UAAnB,CAFnB,CAGI,cAAc,CAAI,CAAEC,MAAM,CAAEf,SAAV,CACEgB,cAAc,CAAE,KADlB,CAEEC,iBAAiB,CAAE,KAFrB,CAGEC,iBAAiB,CAAE,KAHrB,CAIEC,YAAY,CAAE,IAJhB,CAHtB,eASI,oBAAC,eAAD,EAAiB,KAAK,CAAEf,KAAxB,CAA+B,KAAK,CAAED,SAAtC,EATJ,CADJ,CAaH,CA9BD,CAgCA,GAAMiB,CAAAA,UAAU,CAAGtB,YAAY,CAACC,aAAa,CAACG,GAAD,CAAd,CAA/B,CAEA,GAAMmB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,OAAiB,IAAflB,CAAAA,SAAe,OAAfA,SAAe,CAClC,mBACI,2BAAK,KAAK,CAAE,CAAEmB,KAAK,CAAE,OAAT,CAAkBC,MAAM,CAAE,OAA1B,CAAZ,eACE,oBAAC,UAAD,EACE,YAAY,gIADd,CAEE,cAAc,cAAE,2BAAK,KAAK,CAAE,CAAEA,MAAM,OAAR,CAAZ,EAFlB,CAGE,gBAAgB,cAAE,2BAAK,KAAK,CAAE,CAAEA,MAAM,OAAR,CAAZ,EAHpB,CAIE,UAAU,cAAE,2BAAK,KAAK,CAAE,CAAEA,MAAM,OAAR,CAAZ,EAJd,CAKE,SAAS,CAAIpB,SALf,EADF,CADJ,CAWH,CAZD,CAcA,cAAekB,CAAAA,YAAf","sourcesContent":["import React, { useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport { GoogleMap, \r\n        withScriptjs, \r\n        withGoogleMap, \r\n       } from 'react-google-maps';\r\nimport mapStyles from '../assets/mapStyles';\r\nimport FilterContainer from './FilterContainer';\r\n\r\nconst Map = ({passQuery}) => {\r\n    const [birds, setBirds] = useState([]);\r\n\r\n    const fetchData = async() =>{\r\n        try{\r\n            const req = await axios.get('/api/birds');\r\n            setBirds(req.data);\r\n        }catch(error){\r\n            console.error(error.message);\r\n        }\r\n    }\r\n\r\n    useEffect( () => {\r\n        fetchData();\r\n        // console.log('parent\\'s component')        \r\n    }, []);\r\n\r\n    return(\r\n        <GoogleMap \r\n            defaultZoom={12} \r\n            defaultCenter={{lat:13.846246,lng:100.568640}} \r\n            defaultOptions = {{ styles: mapStyles, \r\n                                mapTypeControl: false,\r\n                                streetViewControl: false,\r\n                                fullscreenControl: false,\r\n                                scaleControl: true}}\r\n        >\r\n            <FilterContainer birds={birds} query={passQuery}/>\r\n        </GoogleMap>\r\n    );\r\n}\r\n\r\nconst WrappedMap = withScriptjs(withGoogleMap(Map))\r\n\r\nconst MapContainer = ({passQuery}) => {\r\n    return (\r\n        <div style={{ width: \"100vw\", height: \"100vh\" }}>\r\n          <WrappedMap\r\n            googleMapURL={`https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=AIzaSyAD0zS55CxSt0oXdu8O230XgPF2_ZmKT7A`}\r\n            loadingElement={<div style={{ height: `100%` }} />}\r\n            containerElement={<div style={{ height: `100%` }} />}\r\n            mapElement={<div style={{ height: `100%` }} />}\r\n            passQuery = {passQuery}\r\n          />\r\n        </div>\r\n      );\r\n}\r\n\r\nexport default MapContainer;"]},"metadata":{},"sourceType":"module"}